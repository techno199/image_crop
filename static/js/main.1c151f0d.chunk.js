(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(68),o=a.n(i),s=(a(80),a(2)),c=a(3),l=a(6),p=a(4),m=a(7),h=(a(81),a(13)),u=a(5),g=a.n(u),d=a(16),f=a(10),v=a.n(f),b=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.classes,n=e.className,i=Object(d.a)(e,["children","classes","className"]);return r.a.createElement("div",Object.assign({className:v()([a.root,n])},i),r.a.createElement(r.a.Fragment,null,t))}}]),t}(n.Component),y=g()({root:{backgroundColor:"#fff",borderRadius:4,color:"#000",boxShadow:"0px 1px 3px 0px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 2px 1px -1px rgba(0,0,0,0.12)"}})(b);function x(){return(x=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function E(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var w=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),O=r.a.createElement("path",{d:"M7.11 8.53L5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"}),C=function(e){var t=e.svgRef,a=E(e,["svgRef"]);return r.a.createElement("svg",x({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),w,O)},S=r.a.forwardRef(function(e,t){return r.a.createElement(C,x({svgRef:t},e))});a.p;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var j=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),k=r.a.createElement("path",{d:"M15.55 5.55L11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42l1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"}),N=function(e){var t=e.svgRef,a=D(e,["svgRef"]);return r.a.createElement("svg",M({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),j,k)},R=r.a.forwardRef(function(e,t){return r.a.createElement(N,M({svgRef:t},e))});a.p;function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function W(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var I=r.a.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),T=r.a.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),L=function(e){var t=e.svgRef,a=W(e,["svgRef"]);return r.a.createElement("svg",A({width:24,height:24,viewBox:"0 0 24 24",ref:t},a),I,T)},z=r.a.forwardRef(function(e,t){return r.a.createElement(L,A({svgRef:t},e))}),_=(a.p,a(71)),H=a.n(_),B=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.children,n=e.className,i=Object(d.a)(e,["classes","children","className"]);return r.a.createElement("button",Object.assign({className:v()([t.root,n])},i),a)}}]),t}(n.Component),P=g()({root:{outline:"none",padding:"7px 16px 8px",backgroundColor:"#5181b8",color:"#fff",minWidth:170,borderRadius:4,fontSize:12.5,display:"flex",justifyContent:"center",border:"none",cursor:"pointer",userSelect:"none","&:hover":{backgroundColor:"#5b88bd"},"&:active":{backgroundColor:"#4872a3",paddingTop:8,paddingBottom:7}}})(B),U=a(72),X=a.n(U),Y={types:{NW:"NW",N:"N",NE:"NE",W:"W",E:"E",SW:"SW",S:"S",SE:"SE"},isEdge:function(e){return[this.types.NW,this.types.NE,this.types.SW,this.types.SE].indexOf(e)>-1},isPole:function(e){return[this.types.N,this.types.S].indexOf(e)>-1},isSide:function(e){return[this.types.E,this.types.W].indexOf(e)>-1},getCurrentEdge:function(e,t,a,n,r,i,o){var s=a+n/2,c=t+r/2,l=n/3,p=r/3;switch(e){case Y.types.NW:s+=l,c+=p;break;case Y.types.NE:s-=l,c+=p;break;case Y.types.SE:s-=l,c-=p;break;case Y.types.SW:s+=l,c-=p}return i>s?o>c?this.types.SE:this.types.NE:o>c?this.types.SW:this.types.NW},getCurrentPole:function(e,t,a){return a>e+t/2?this.types.S:this.types.N},getCurrentSide:function(e,t,a){return a>e+t/2?this.types.E:this.types.W}},F={WRONG_IMAGE_ASPECT_RATIO:"WRONG_IMAGE_ASPECT_RATIO",IMAGE_TOO_SMALL:"IMAGE_TOO_SMALL"},G=1,$=1/1.5,V=604,J=200,q=100,K=300;(new Image).src=X.a;var Q={root:{width:10,height:10,backgroundColor:"#f2f2f2",opacity:.3,position:"absolute",transition:".1s"},nw:{top:-5,left:-5,cursor:"nw-resize"},n:{top:-5,left:"calc(50% - ".concat(5,"px)"),cursor:"n-resize"},ne:{top:-5,left:"calc(100% - ".concat(5,"px)"),cursor:"ne-resize"},e:{top:"calc(50% - ".concat(5,"px)"),left:"calc(100% - ".concat(5,"px)"),cursor:"e-resize"},se:{top:"calc(100% - ".concat(5,"px)"),left:"calc(100% - ".concat(5,"px)"),cursor:"se-resize"},s:{top:"calc(100% - ".concat(5,"px)"),left:"calc(50% - ".concat(5,"px)"),cursor:"s-resize"},sw:{top:"calc(100% - ".concat(5,"px)"),left:-5,cursor:"sw-resize"},w:{top:"calc(50% - ".concat(5,"px)"),left:-5,cursor:"w-resize"}},Z=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={tagName:"",item:null,initClientOffset:null},a.componentDidMount=function(){switch(a.props.type){case Y.types.NW:a.setState({tagName:a.props.classes.nw});break;case Y.types.N:a.setState({tagName:a.props.classes.n});break;case Y.types.NE:a.setState({tagName:a.props.classes.ne});break;case Y.types.E:a.setState({tagName:a.props.classes.e});break;case Y.types.SE:a.setState({tagName:a.props.classes.se});break;case Y.types.S:a.setState({tagName:a.props.classes.s});break;case Y.types.SW:a.setState({tagName:a.props.classes.sw});break;case Y.types.W:a.setState({tagName:a.props.classes.w})}},a.handleMouseDown=function(e){e.preventDefault();var t={type:a.props.type};a.setState({initClientOffset:{x:e.clientX,y:e.clientY},item:t}),a.props.onDragStart&&a.props.onDragStart(e),document.addEventListener("mousemove",a._onMouseMove),document.addEventListener("mouseup",a._onMouseUp)},a._onMouseUp=function(e){document.removeEventListener("mousemove",a._onMouseMove),document.removeEventListener("mouseup",a._onMouseUp),a.props.onDragEnd&&a.props.onDragEnd(e)},a._onMouseMove=function(e){var t={x:e.clientX,y:e.clientY};a.props.onDrag&&a.props.onDrag({initClientOffset:a.state.initClientOffset,currentClientOffset:t,item:a.state.item})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e,t=this.props,a=t.classes;return t.isHighlighted&&(e={opacity:.7}),r.a.createElement("div",{className:v()([a.root,this.state.tagName]),style:e,draggable:!1,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp})}}]),t}(n.Component),ee=g()(Q)(Z),te=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).shouldComponentUpdate=function(e){return a.props.width!==e.width||a.props.height!==e.height||a.props.isDragging!==e.isDragging},a.handleTagDrag=function(e){a.props.onTagDrag&&a.props.onTagDrag(e)},a.handleTagDragEnd=function(){a.props.onTagDragEnd&&a.props.onTagDragEnd()},a.handleTagDragStart=function(){a.props.onTagDragStart&&a.props.onTagDragStart()},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.isDragging,a=Object.keys(Y.types).map(function(e){return Y.types[e]});return r.a.createElement("div",null,a.map(function(a){return r.a.createElement(ee,{key:a,type:a,isHighlighted:t,onDrag:e.handleTagDrag,onDragStart:e.handleTagDragStart,onDragEnd:e.handleTagDragEnd})}))}}]),t}(n.Component),ae=g()({})(te),ne=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state={initClientOffset:{x:null,y:null},item:{top:null,right:null,bottom:null,left:null,height:null,width:null},isDragging:!1},a.areaRef=r.a.createRef(),a.handleMouseDown=function(e){e.preventDefault();var t=a.areaRef.current.getBoundingClientRect(),n={top:t.top,right:t.right,left:t.left,bottom:t.bottom,width:a.props.width,height:a.props.height};a.setState({initClientOffset:{x:e.clientX,y:e.clientY},item:n,isDragging:!0}),document.addEventListener("mousemove",a._onMouseMove),document.addEventListener("mouseup",a._onMouseUp)},a._onMouseMove=function(e){var t={x:e.clientX,y:e.clientY};a.props.onHover&&a.props.onHover({initClientOffset:a.state.initClientOffset,currentClientOffset:t,item:a.state.item})},a._onMouseUp=function(e){document.removeEventListener("mousemove",a._onMouseMove),document.removeEventListener("mouseup",a._onMouseUp),a.setState({isDragging:!1})},a.handleTagDragStart=function(){a.setState({isDragging:!0})},a.handleTagDragEnd=function(){a.setState({isDragging:!1})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.top,a=e.left,n=e.width,i=e.height,o=e.classes,s=(e.connectDragPreview,e.connectDragSource,e.className),c=e.src,l=e.imgWidth,p=e.imgHeight,m=(e.onHover,e.handleTagDrag),h=Object(d.a)(e,["top","left","width","height","classes","connectDragPreview","connectDragSource","className","src","imgWidth","imgHeight","onHover","handleTagDrag"]),u=this.state.isDragging,g={top:t,left:a,width:n,height:i},f={width:l,height:p,marginTop:-t,marginLeft:-a};return r.a.createElement("div",Object.assign({style:g,className:v()([o.root,s]),ref:this.areaRef,draggable:!1},h),r.a.createElement("div",{className:o.imgWrap},r.a.createElement("img",{style:f,src:c,draggable:!1,onMouseDown:this.handleMouseDown,alt:""})),r.a.createElement(ae,{width:n,height:i,isDragging:u,onTagDrag:m,onTagDragStart:this.handleTagDragStart,onTagDragEnd:this.handleTagDragEnd}))}}]),t}(n.Component),re=g()({root:{position:"absolute",cursor:"move"},imgWrap:{overflow:"hidden",position:"absolute",top:0,left:0,right:0,bottom:0,userSelect:"none"}})(ne),ie=a(19),oe=a.n(ie),se=function(e,t,a,n,r){var i={max:Math.min(e,t+a/$),min:Math.max(t+a/G,t+q)},o=r.y;return r.y>i.max?o=i.max:r.y<i.min&&(o=i.min),t+n-o},ce=function(e,t,a,n,r){var i={max:Math.min(e,t+a*G),min:Math.max(t+a*$,t+q)},o=r.x;return r.x>i.max?o=i.max:r.x<i.min&&(o=i.min),t+n-o},le=function(e,t,a,n){var r={max:Math.max(0,e+t-a*G),min:Math.min(e+t-a*$,e+t-q)},i=n.x;return n.x<r.max?i=r.max:n.x>r.min&&(i=r.min),e-i},pe=function(e,t,a,n){var r={max:Math.max(0,e+t-a/$),min:Math.min(e+t-a/G,e+t-q)},i=n.y;return n.y<r.max?i=r.max:n.y>r.min&&(i=r.min),e-i},me=function(e,t,a,n,r){var i=t+a,o={max:Math.max(0,e+n-i/$),min:Math.min(e+n-a/G,e+n-q)},s=r.y;r.y<o.max?s=o.max:r.y>o.min&&(s=o.min);var c=e+n,l={max:Math.max(0,t+a-Math.ceil(c*G)),min:Math.min(t+a-n*$,t+a-q)},p=r.x;return r.x<l.max?p=l.max:r.x>l.min&&(p=l.min),{top:s,left:p,width:a+t-p,height:n+e-s}},he=function(e,t,a,n,r,i){var o=r-t,s={max:Math.max(0,e+n-o/$),min:Math.min(e+n-a/G,e+n-q)},c=i.y;i.y<s.max?c=s.max:i.y>s.min&&(c=s.min);var l=e+n,p={max:Math.min(r,t+Math.ceil(l*G)),min:Math.max(t+n*$,t+q)},m=i.x;return i.x>p.max?m=p.max:i.x<p.min&&(m=p.min),{top:c,width:a-(t+a-m),height:n+e-c}},ue=function(e,t,a,n,r,i,o){var s=r-t,c={max:Math.min(i,e+s/$),min:Math.max(e+a/G,e+q)},l=o.y;o.y>c.max?l=c.max:o.y<c.min&&(l=c.min);var p=i-e,m={max:Math.min(r,t+Math.ceil(p*G)),min:Math.max(t+n*$,t+q)},h=o.x;return o.x>m.max?h=m.max:o.x<m.min&&(h=m.min),{width:a-(t+a-h),height:n-(e+n-l)}},ge=function(e,t,a,n,r,i){var o=t+a,s={max:Math.min(r,e+o/$),min:Math.max(e+a/G,e+q)},c=i.y;i.y>s.max?c=s.max:i.y<s.min&&(c=s.min);var l=r-e,p={max:Math.max(0,t+a-Math.ceil(l*G)),min:Math.min(t+a-n*$,t+a-q)},m=i.x;return i.x<p.max?m=p.max:i.x>p.min&&(m=p.min),{left:m,width:a+t-m,height:n-(e+n-c)}},de=g()({img:{userSelect:"none"},imgFade:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#000",opacity:.7,cursor:"crosshair"}})(function(e){var t=e.classes,a=e.width,i=e.height,o=e.rotationDegree,s=e.imgSrc,c=e.areaTop,l=e.areaLeft,p=e.areaWidth,m=e.areaHeight,u=e.onRectUpdate,g=e.onFadedSpaceClick,d=e.onDrawArea,f=e.onDrawAreaEnd,v=e.onAreaUpdate,b=Object(n.useRef)(null),y=Object(n.useCallback)(function(e){var t=e.item,n=e.initClientOffset,r=e.currentClientOffset,o=function(e){var t=e.width,a=e.height,n=e.item,r=e.initClientOffset,i=e.currentClientOffset,o=e.imgRef.current.getBoundingClientRect(),s=n,c=t,l=a,p=r,m=i,h=m.x-o.left,u=m.y-o.top,g={left:h-(p.x-s.left),right:h+(s.right-p.x),top:u-(p.y-s.top),bottom:u+(s.bottom-p.y)},d=g.left;g.left<0?d=0:g.right>c&&(d=c-s.width);var f=g.top;return g.top<0?f=0:g.bottom>l+1&&(f=l-s.height),{top:f,left:d}}({width:a,height:i,item:t,initClientOffset:n,currentClientOffset:r,imgRef:b});v({top:o.top,left:o.left})}),x=Object(n.useCallback)(function(e){var t=e.item,n=e.currentClientOffset;!function(e){var t=e.areaTop,a=e.areaLeft,n=e.areaHeight,r=e.areaWidth,i=e.width,o=e.height,s=e.imgRef,c=e.item,l=e.currentClientOffset,p=e.onAreaUpdate,m=s.current.getBoundingClientRect(),u=c.type,g=l,d={x:g.x-m.left,y:g.y-m.top};switch(u=Y.isEdge(u)?Y.getCurrentEdge(u,t,a,r,n,d.x,d.y):Y.isPole(u)?Y.getCurrentPole(t,n,d.y):Y.getCurrentSide(a,r,d.x)){case Y.types.NW:p(Object(h.a)({},me(t,a,r,n,d)));break;case Y.types.N:p({top:t-pe(t,n,r,d),height:n+pe(t,n,r,d)});break;case Y.types.NE:p(Object(h.a)({},he(t,a,r,n,i,d)));break;case Y.types.E:p({width:r-ce(i,a,n,r,d)});break;case Y.types.SE:p(Object(h.a)({},ue(t,a,r,n,i,o,d)));break;case Y.types.S:p({height:n-se(o,t,r,n,d)});break;case Y.types.SW:p(Object(h.a)({},ge(t,a,r,n,o,d)));break;case Y.types.W:p({left:a-le(a,r,n,d),width:r+le(a,r,n,d)})}}({areaTop:c,areaLeft:l,areaHeight:m,areaWidth:p,width:a,height:i,imgRef:b,item:t,currentClientOffset:n,onAreaUpdate:v})});Object(n.useEffect)(function(){return function(){b.current&&u&&u(b)}},[b.current]);var E={transform:"rotate(".concat(o,"deg)"),width:a,height:i},w={width:a,height:i};return r.a.createElement("div",{style:E},r.a.createElement("img",{style:w,className:t.img,src:s,ref:b,alt:"Preview",draggable:!1}),r.a.createElement("div",{className:t.imgFade,onMouseDown:function(e){e.preventDefault();var t={initClientX:e.clientX,initClientY:e.clientY,isDrawingAllowed:!1},n=function(e){if(Math.abs(e.clientX-t.initClientX)>4&&Math.abs(e.clientY-t.initClientY)>4&&(t=oe()(t,{isDrawingAllowed:{$set:!0}})),t.isDrawingAllowed){var n=b.current.getBoundingClientRect(),r=e.clientX-n.left,o=e.clientY-n.top;r<0?r=0:r>a&&(r=a),o<0?o=0:o>i&&(o=i),d&&d({initClientX:t.initClientX-n.left,initClientY:t.initClientY-n.top,clientX:r,clientY:o})}};document.addEventListener("mousemove",n),document.addEventListener("mouseup",function e(a){if(document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",e),t.isDrawingAllowed)f&&f(a);else{var r=b.current.getBoundingClientRect();g&&g({x:a.clientX-r.left,y:a.clientY-r.top})}})},draggable:!1}),r.a.createElement(re,{className:t.area,top:c,left:l,width:p,height:m,imgWidth:a,imgHeight:i,src:s,onHover:y,handleTagDrag:x}))}),fe=function(){return{isImgSelected:!1,imgSrc:null,imgRotationDegree:0,imgRef:r.a.createRef(),resizedImageWidth:null,resizedImageHeight:null,area:{top:0,left:0,width:J,height:J}}},ve=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(i)))).state=fe(),a.fileInputRef=r.a.createRef(),a.reader=new FileReader,a.image=new Image,a.componentDidMount=function(){a.reader.addEventListener("load",function(){a.image.src=a.reader.result},!1),a.image.onload=function(e){var t=a.image.width,n=a.image.height;if(t/n<=.25||t/n>=3)a.props.onErrorLoadingImage&&a.props.onErrorLoadingImage(F.WRONG_IMAGE_ASPECT_RATIO);else if(t<J||n<J)a.props.onErrorLoadingImage&&a.props.onErrorLoadingImage(F.IMAGE_TOO_SMALL);else{var r,i=t,o=n;n>V&&(o=V,i=t/(r=n/V)),i>V&&(r=i/V,i=V,o/=r);var s=o/2-J/2,c=i/2-J/2,l=Math.min(J,i),p=Math.min(J,o);o/i<=G&&o/i>=$&&o<=V&&i<=K&&(s=0,c=0,l=i,p=o),a.setState({area:oe()(a.state.area,{top:{$set:s},left:{$set:c},width:{$set:l},height:{$set:p}}),resizedImageWidth:i,resizedImageHeight:o,imgSrc:a.image.src,isImgSelected:!0})}}},a.handleClose=function(){a.props.onClose&&a.props.onClose()},a.handleGoBackClick=function(){var e=fe();a.setState(Object(h.a)({},e))},a.handleSelectedImageChange=function(e){var t=a.fileInputRef.current.files[0];t&&a.reader.readAsDataURL(t)},a.handleSelectFileClick=function(e){a.fileInputRef.current&&a.fileInputRef.current.click()},a.handleCat=function(){a.image.src=H.a},a.handleRotateClick=function(e){return function(){a.setState(function(t){return{imgRotationDegree:t.imgRotationDegree+e}})}},a.updateArea=function(e){a.setState({area:oe()(a.state.area,{$merge:e})})},a.handleFadedSpaceClick=function(e){var t=e.x,n=e.y,r=a.state,i=r.resizedImageHeight,o=r.resizedImageWidth,s=n-q/2;s<0?s=0:s>i-q&&(s=i-q);var c=t-q/2;c<0?c=0:c>o-q&&(c=o-q),a.updateArea({top:s,left:c,width:q,height:q})},a.handleCropperRectUpdate=function(e){a.setState({imgRef:e})},a.handleDrawArea=function(e){var t,n,r,i,o=e.initClientX,s=e.initClientY,c=e.clientX,l=e.clientY;c>o?l>s?(t=s,n=o,r=c-o,i=l-s):(t=l,n=o,r=c-o,i=s-l):l>s?(t=s,n=c,r=o-c,i=l-s):(t=l,n=c,r=o-c,i=s-l),a.updateArea({top:t,left:n,width:r,height:i})},a.handleDrawAreaEnd=function(e){var t=a.state,n=t.resizedImageWidth,r=t.resizedImageHeight,i=t.area,o=i.left,s=i.top,c=i.height,l=i.width,p=Math.max(c,q),m=Math.min(n,Math.min(p*G,Math.max(l,p*$)));o+m>n&&(o=n-m),s+p>r&&(s=r-p),a.updateArea({top:s,left:o,width:m,height:p})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.classes,a=e.title,n=this.state,i=n.isImgSelected,o=n.imgSrc,s=n.imgRotationDegree,c=n.area,l=n.resizedImageHeight,p=n.resizedImageWidth,m=n.imgRef,h=0;m.current&&(Boolean(s/90%2)&&(h=Math.abs(m.current.clientWidth-m.current.clientHeight)));var u={margin:"".concat(h/2+35,"px auto"),width:p,height:l};return r.a.createElement(y,{className:t.root},r.a.createElement("div",{className:t.title},r.a.createElement("span",{className:t.titleText},a),r.a.createElement("div",{className:t.close},r.a.createElement(z,{onClick:this.handleClose}))),r.a.createElement("div",{className:t.cropWrap},i?r.a.createElement("div",null,r.a.createElement("div",{className:t.descriptionWrap},"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043e\u0431\u043b\u0430\u0441\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f"),r.a.createElement("div",{className:t.outerImage,style:u,draggable:!1},r.a.createElement(de,{height:l,width:p,areaTop:c.top,areaLeft:c.left,areaHeight:c.height,areaWidth:c.width,imgSrc:o,imgRef:m,rotationDegree:s,onRectUpdate:this.handleCropperRectUpdate,onAreaUpdate:this.updateArea,onFadedSpaceClick:this.handleFadedSpaceClick,onDrawArea:this.handleDrawArea,onDrawAreaEnd:this.handleDrawAreaEnd}),r.a.createElement("div",{className:t.rotationButtons,draggable:!1},r.a.createElement(S,{className:t.rotateClockwise,onClick:this.handleRotateClick(-90)}),r.a.createElement(R,{className:t.rotateAntiClockwise,onClick:this.handleRotateClick(90)}))),r.a.createElement("div",{className:t.bottomLine}),r.a.createElement("div",{className:t.footer},r.a.createElement(P,{className:t.btn},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"),r.a.createElement(P,{onClick:this.handleGoBackClick},"\u041d\u0430\u0437\u0430\u0434"))):r.a.createElement("div",{className:t.footer},r.a.createElement(P,{onClick:this.handleSelectFileClick,className:t.btn},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u043e\u0442\u043e"),r.a.createElement(P,{onClick:this.handleCat},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043a\u043e\u0442\u0430"),r.a.createElement("input",{ref:this.fileInputRef,className:t.input,type:"file",onChange:this.handleSelectedImageChange}))))}}]),t}(n.Component),be=g()({root:{width:654,display:"flex",flexFlow:"column"},title:{minHeight:54,paddingLeft:25,display:"flex",alignItems:"center",borderBottom:"1px solid #86838357",backgroundColor:"#f2f5f7",borderTopLeftRadius:4,borderTopRightRadius:4},descriptionWrap:{display:"flex",justifyContent:"center",marginBottom:35,userSelect:"none"},cropWrap:{padding:"32px 20px 20px",display:"flex",justifyContent:"center"},outerImage:{position:"relative"},rotateClockwise:{fill:"#ffffff99",position:"absolute",bottom:5,right:24,cursor:"pointer","&:hover":{fill:"#fff"}},rotateAntiClockwise:{extend:"rotateClockwise",right:0},rotationButtons:{position:"absolute",right:0,bottom:0},previewImage:{userSelect:"none"},input:{display:"none"},bottomLine:{borderBottom:"1px solid #86838357",marginBottom:25},imgFade:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"#000",opacity:.7},titleText:{flexGrow:1},close:{padding:"21px 25px 21px 12px",fill:"#7b95b5",cursor:"pointer",opacity:.75,"&:hover":{opacity:1}},footer:{display:"flex",justifyContent:"center"},btn:{marginRight:25}})(ve),ye=a(73),xe=a(74),Ee=a.n(xe),we=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(ye.DragDropContextProvider,{backend:Ee.a},r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(be,{title:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",onClose:this.handleToggleButton,onErrorLoadingImage:this.handleErrorLoading}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(we,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},71:function(e,t,a){e.exports=a.p+"static/media/cats.46b11cf1.jpg"},72:function(e,t,a){e.exports=a.p+"static/media/empty.b6229967.svg"},75:function(e,t,a){e.exports=a(180)},80:function(e,t,a){},81:function(e,t,a){}},[[75,1,2]]]);
//# sourceMappingURL=main.1c151f0d.chunk.js.map